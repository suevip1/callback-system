# 回调系统
## 背景
回调系统是我们处理异步操作的机制，它通常用于接收异步服务的回调请求，并将请求转发到指定的处理程序。回调系统可以帮助我们处理异步服务所带来的挑战，包括处理来自多个异步服务的请求，并确保每个请求都得到了正确的处理。
在一个典型的回调系统中，我们可以为每个异步服务定义一个回调URL，当服务完成处理并准备发送回调请求时，它会向这个URL发送一个请求。这个请求包含异步服务所返回的数据，我们的回调系统会接收这个请求并解析其中的数据，然后根据我们的业务逻辑，将数据转发到相应的处理程序。这个处理程序可能是我们自己的服务器，也可能是另一个异步服务，我们的回调系统需要负责将请求正确地转发到目标处理程序。
例如微信的图像审核就是一个异步的服务，当我们发送一个图像审核的请求给微信后，他会返回一个追踪id用于后续的图像审核追踪。一段时间后微信会自动给一个回调地址发送图像审核的接口。回调系统就是要接收回调的审核，并发送到相关服务的链接上

## 功能
核心功能：
- 接收第三方的回调数据（目前是腾讯的服务，后续会有其他的），然后转发到我们的服务器上
- 可以添加、修改、删除、查询回调地址的映射
- 回调地址的映射存储在mysql中
非系统功能：腾讯的回调使用miniapp库

## 相关文档
微信图像审核
https://developers.weixin.qq.com/miniprogram/dev/OpenApiDoc/sec-center/sec-check/mediaCheckAsync.html
miniapp微信小程序库
https://github.com/binarywang/weixin-java-miniapp-demo